<!DOCTYPE html>
<html>
<head>
<style>
*{margin:0; padding:0;  }
html,body{width: 100%; height: 100%;}
body{ -webkit-app-region: drag; }
#wv1{ width: 100%; height: 100%; }

#body::-webkit-scrollbar { width: 0 !important }
</style>
<script>
var url = require('url');
var nw = require('nw.gui');
var win = nw.Window.get();
var nativeMenuBar = new nw.Menu({ type: "menubar" });
if (nativeMenuBar.createMacBuiltin) {
  nativeMenuBar.createMacBuiltin("Yandex Music Native");
}
win.menu = nativeMenuBar;

window.onload = function() {
  document.getElementById('wv1').addEventListener('newwindow', function(e) {
    var urlObj = url.parse(e.targetUrl, true);
	console.log('try to open url: ' + urlObj);
    //nw.Shell.openExternal(e.targetUrl);
    return;
  });
};
</script>
</head>
<body id="body">
  <webview id="wv1" src="https://music.yandex.ru" partition=""></webview>
</body>
</html>
